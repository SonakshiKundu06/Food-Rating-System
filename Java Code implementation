import java.util.*;
class FoodRatings {
    private Map<String,String> foodstocuisine = new HashMap<>();
    private Map<String,Integer> foodstorating = new HashMap<>();
    private Map<String, TreeSet<String>> cuisinefoods = new HashMap<>();

    public FoodRatings(String[] foods, String[] cuisines, int[] ratings) {
        for(int i = 0;i<foods.length;i++){
            foodstocuisine.put(foods[i],cuisines[i]);
            foodstorating.put(foods[i],ratings[i]);
        }
        for(int i = 0;i<foods.length;i++){
            String cuisine = cuisines[i];
            cuisinefoods.putIfAbsent(cuisine,new TreeSet<>((a,b) ->{
                int r1 = foodstorating.get(a);
                int r2 = foodstorating.get(b);
                if(r1!=r2) return r2-r1;
                return a.compareTo(b);
            }));
            cuisinefoods.get(cuisine).add(foods[i]);
        }
    }
    
    public void changeRating(String food, int newRating) {
        String cuisine = foodstocuisine.get(food);
        TreeSet<String> set = cuisinefoods.get(cuisine);
        set.remove(food);
        foodstorating.put(food,newRating);
        set.add(food);
    }
    
    public String highestRated(String cuisine) {
        return cuisinefoods.get(cuisine).first();
    }
}
